{
  "hash": "feedc4173cf1462bf40c35aa596713f8",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Obtención do diagrama P-x, T-xy e xy.\njupyter: python3\n---\n\n::: {#e8fc34ad .cell execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\n```\n:::\n\n\n::: {#8427fa69 .cell execution_count=2}\n``` {.python .cell-code}\n# Parámetros de Antoine\n\n# heptano\nA_heptano = 4.02832\nB_heptano = 1268.636\nC_heptano = -56.199\n\n#Octano\nA_octano=4.04867\nB_octano=1355.126\nC_octano=-63.633\n\n# Alternativa\n# A = [A_heptano, A_octano]\n# B=[B_heptano, B_octano]\n# A[0] = A del heptano\n\n# Dato: temperatura\nT = 115 + 273.15 # K\n```\n:::\n\n\n# Cálculo da presión de vapor dos compoñentes puros (ecuación de Antoine)\n\n::: {#33a7c9ff .cell execution_count=3}\n``` {.python .cell-code}\npv_heptano = 10 ** ( A_heptano - B_heptano / ( T + C_heptano ) ) # bar\npv_octano  = 10 ** ( A_octano  - B_octano  / ( T + C_octano  ) ) # bar\nprint(f'A presión de vapor do heptano puro é de {pv_heptano:6.4f} bar.') # compoñente mais volátil, maior presión de vapor\n# print('A presión de vapor do heptano puro é de {:6.4f} bar.'.format(pv_heptano)) #más volátil, mayor presión de vapor\nprint(f'A presión de vapor do heptano puro é de {pv_octano:6.4f} bar.') # compoñente mais volátil, maior presión de vapor\n# print('A presión de vapor do octano puro {:6.4f} bar.'.format(pv_octano))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nA presión de vapor do heptano puro é de 1.6090 bar.\nA presión de vapor do heptano puro é de 0.7462 bar.\n```\n:::\n:::\n\n\n::: {#f3564fa8 .cell execution_count=4}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\n# Vector de valores de x\nx_heptano = np.linspace(0,1,11)\n\n# Calcula a presión total a partires das presións de vapor e as fraccións molares na fase vapor\nP_total = x_heptano * pv_heptano + ( 1 - x_heptano ) * pv_octano\n\n# Cálculo Presións de burbulla\nP_burbulla = x_heptano * pv_heptano + ( 1 - x_heptano ) * pv_octano\n\n#Calcular los valores de y\ny_heptano = pv_heptano * x_heptano / P_burbulla\n\n#Presiones de rocío\nP_orballo = 1 / ( y_heptano / pv_heptano + ( 1 - y_heptano ) / pv_octano )\n\n#Representación del diagrama P-x,y\nplt.plot(x_heptano, P_burbulla, 'yo-', y_heptano, P_orballo, 'go-')\nplt.xlim(0,1)\nplt.xlabel('x, y (heptano)')\nplt.ylabel('Presión (bar)')\nplt.title('Diagrama P-x,y')\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\nText(0.5, 1.0, 'Diagrama P-x,y')\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-5-output-2.png){width=599 height=449}\n:::\n:::\n\n\n## Aparatdo 2 . Diagrama T-xy a partires da presión total dada\n\n::: {#8919e8aa .cell execution_count=5}\n``` {.python .cell-code}\nfrom scipy.optimize import fsolve\n```\n:::\n\n\n::: {#6746fa04 .cell execution_count=6}\n``` {.python .cell-code}\n# Datos do exercicio\n\nP_t = 1.5 #bar\nx_heptano = np.linspace(0,1,11)\n\n# Suponse unha temperatura de partida\n\nT_guess=396\n\n# Créanse dúas listas nas que se almacenarán os datos de temperatura e fraccións molares do heptano, para cada valor de x\n\nlista_temperatura=[]\nlista_y=[]\n\n# Definiranse as funcións para obter as presións de saturación do heptano e o octano\n\ndef p_sat_heptano(T):\n    return 10  ** ( A_heptano - B_heptano / ( T + C_heptano ) )\n\ndef p_sat_octano(T):\n    return 10 ** ( A_octano - B_octano / ( T + C_octano ) )\n\n# Créase un lazo que devolve o valor da temperatura e a fracción molar do vapor para cada valor de x\n\nfor i in x_heptano:\n    def fmin(T):\n        return i*p_sat_heptano(T)/P_t+(1-i)*p_sat_octano(T)/P_t-1\n    solucion=fsolve(fmin,T_guess)\n    lista_temperatura.append(solucion[0])\n    y_heptano=i*p_sat_heptano(solucion)/P_t\n    lista_y.append(y_heptano[0])\n\nprint(lista_temperatura) # valores de temperatura calculados\nprint(lista_y) # valores de y calculados\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[np.float64(413.5615852273091), np.float64(409.77113336473025), np.float64(406.2684364969948), np.float64(403.0216612183846), np.float64(400.00305716655544), np.float64(397.18844969691617), np.float64(394.55676804690006), np.float64(392.0896214256247), np.float64(389.77092633460484), np.float64(387.58658343897787), np.float64(385.52419985536085)]\n[np.float64(0.0), np.float64(0.1837276326189331), np.float64(0.33830109800891695), np.float64(0.4693199994809487), np.float64(0.581154434977709), np.float64(0.6772413410638028), np.float64(0.7603047808262194), np.float64(0.832520410718438), np.float64(0.895638942399593), np.float64(0.9510793956603304), np.float64(1.0000000000003693)]\n```\n:::\n:::\n\n\n::: {#e20d0690 .cell execution_count=7}\n``` {.python .cell-code}\n# Representación do diagrama T-xy\n\nimport matplotlib.pyplot as plt\nplt.plot(x_heptano, lista_temperatura, 'ko-', lista_y, lista_temperatura, 'ro-')\nplt.xlim(0,1)\nplt.xlabel('x, y (heptano)')\nplt.ylabel('Temperatura (K)')\nplt.title('Diagrama T-x,y')\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```\nText(0.5, 1.0, 'Diagrama T-x,y')\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-8-output-2.png){width=604 height=449}\n:::\n:::\n\n\n::: {#767e2700 .cell execution_count=8}\n``` {.python .cell-code}\n# Tamén se pde realizar con fsolve aplicado a la ecuación de Antoine, y no al sumatorio de y - 1\nz=np.linspace(0,1, num=11) #composición inicial\n\n# Funciónes para determinar as presións de saturación dos dous compoñentes\n\ndef Psat1(T):\n    return 10**(A_heptano-B_heptano/(T+C_heptano))\ndef Psat2(T):\n    return 10**(A_octano-B_octano/(T+C_octano))\n\n# Datos do enunciado\ny=z\nP = 1.5 #bar\nfrom scipy.optimize import fsolve\n\n\ndef fun1(T):\n    return P - 10**(A_heptano-B_heptano/(T+C_heptano)) # a qué temperatura P externa es igual al otro término\nTinf=fsolve(fun1, 350) # 350K valor inicial suposto\n                       # Tinf = temperatura de fervura do heptano\n\ndef fun2(T):\n    return P - 10**(A_octano-B_octano/(T+C_octano))\nTsup=fsolve(fun2, 373) # Tsup = temperatura de fervura do octano\n\nprint('A temperatura á que hierve o heptano á presión externa é {:5.2f} K.'.format(Tinf[0]))\nprint('A temperatura á que hierve o octano  á presión externa é {:5.2f} K.'.format(Tsup[0]))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nA temperatura á que hierve o heptano á presión externa é 385.52 K.\nA temperatura á que hierve o octano  á presión externa é 413.56 K.\n```\n:::\n:::\n\n\n::: {#de4fb385 .cell execution_count=9}\n``` {.python .cell-code}\nT=np.linspace(Tinf,Tsup, num=11)\nx = (P-Psat2(T))/(Psat1(T)-Psat2(T))\ny=x*Psat1(T)/P\nplt.plot(x, T,'ko-', y,T,'ro-')\nplt.xlim(0,1)\nplt.xlabel('x, y')\nplt.ylabel('T')\nplt.title('Diagrama T-x, y')\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```\nText(0.5, 1.0, 'Diagrama T-x, y')\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-10-output-2.png){width=604 height=449}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}